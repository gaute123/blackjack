<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>blackjack</title>
</head>
<body>
    <h1><span class="gold" >BLACK</span><span class="red">JACK</span></h1>
    <p id="msgEl">vil du spille en runde</p>
    <p class="kort">cards: </p>
    <p id="sumEl">sum: </p>
    <div class="buttons">
       
        <button onclick="startGame()">START</button> 
        <button id="cardBtn">NYTT KORT</button>
    </div>

    <script>




        let cards = []
        let sum = 0
        let message = ""
        let isAlive = false
        let hasBlackjack = false
        
        let cardEL = document.querySelector(".kort")
        let sumEl = document.getElementById("sumEl")
        let newCardBtn = document.getElementById("cardBtn")
        let msgEl = document.getElementById("msgEl")

        function getRandomCard() {
    let randomCard = Math.floor(Math.random() * 13) + 1
    if (randomCard > 10) {
        return 10 
    } else if (randomCard === 1) {
        return 11 
    } else {
        return randomCard
    }
}

            
        

        function startGame(){
            isAlive = true
            let firstCard = getRandomCard()
            let secondCard = getRandomCard()
             cards = [firstCard, secondCard]
             sum = firstCard + secondCard
             renderGame()
            
        }
        function renderGame(){
            cardEL.textContent = "cards: ";
            for(let i = 0; i<cards.length;i++){
                cardEL.textContent += cards[i] + " "
            }
            sumEl.textContent = "sum " + sum;
            if(sum < 21){
                message = "Hit eller stand?"
            }
            else if(sum === 21){
                message = "Blackjack"
                hasBlackjack = true
            } else{
                message = "Busted"
                isAlive = false
            }
            msgEl.textContent = message
        }

        newCardBtn.addEventListener("click", function(){
            if(isAlive === true && hasBlackjack === false){
            let newCard = getRandomCard()
            cards.push(newCard)
            sum += newCard
            renderGame()
 }

        })
    </script>
</body>
</html> 